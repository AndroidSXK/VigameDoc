# 1.Core Features

## 1.1 init \(must\)

### Android

```text
CoreNative.init();
```

### iOS

```text
[IOSLoader startLoaderLibrary];
```

## 1.2 setGameExitCallback（Only Android）

### Android（must）

```java
PayNative.setGameExitCallback(Runnable runnable);
```

Example：

```text
PayNative.setGameExitCallback(new Runnable() {

    @Override
    public void run() {
        // TODO Auto-generated method stub
        CoreNative.gameExit();//you must execute this code before exit
        currentActivity.finish();
        System.exit(0);
    }
});
```

Parameters:

* runnable：the runnable of exit trigger.

## 1.3 openExitGame（must）

### Android

```text
PayNative.openExitGame();
```

Recommend ways as follows:

```text
if(PayNative.isExitGame()){
    PayNative.openExitGame();
}
else{
    //pop the exit dialog of game
    ...
}
```

### Unity

```text
Wb.PayManager.Instance.OpenExitGame();
```

Example：

```text
if (Wb.PayManager.Instance.IsSupportExit())
{
    Wb.PayManager.Instance.OpenExitGame();
}
else {
    //pop the exit dialog of game
    showEngineExit();
}
```

## 1.4 Get Parameters of Application

### Android

```text
import com.google.extra.platform.Utils;

//get the name of Application
Utils.getAppName();
//get package name
Utils.get_package_name();
//get channel
Utils.getChannel();
//get project id
Utils.get_prjid();
//get version of Application
Utils.get_app_ver();
//get imei
Utils.get_imei();
```

### iOS

```text
//获取应用名称
[IOSLoader getAppName];
//获取包名
[IOSLoader getPackageName];
//获取渠道名
[IOSLoader getChannel];
//获取项目ID
[IOSLoader getPrjId];
//获取app版本
[IOSLoader getAppVersion];
//获取imei
[IOSLoader getImei];
```

### Unity

```text
//获取包名
Wb.CoreManager.Instance.GetPackageName();
//获取渠道名
Wb.CoreManager.Instance.GetChannel();
//获取项目ID
Wb.CoreManager.Instance.GetPrjid();
//获取app版本
Wb.CoreManager.Instance.GetVerName();
//获取imei
Wb.CoreManager.Instance.GetImei();
```

## 1.5 Get custom switch value

### Android

```text
ChnlManager.getValueForKey(String customKey);
```

Example：

```text
//Return: 0-not audit 1-auditing
ChnlManager.getValueForKey("audit");
```

### iOS

```text
+ (NSString *)selfDefineSwitch:(NSString *)customKey;
```

Example：

```text
[IOSLoader selfDefineSwitch:@"audit"]
```

### Unity

```text
Wb.CoreManager.Instance.GetCustomSwitch(string customKey)
```

Example：

```text
Wb.CoreManager.Instance.GetCustomSwitch("audit")
```

Parameters：

* customKey：custom key name

Return: 0-not audit 1-auditing

